#[test]
fn python_impl_consistency() {
    use super::hash_interop;
    use crate::kzg10::PublicParameters;
    use ark_bls12_381::{Bls12_381, Fr};

    let expected = vec![
    "97f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb",
    "841f05b0160c1e6f8300d3bffcb3d66f69835cf393753c811ed679997f5cde5a27baa4c1a66f1232799d1ca8d494e3bb",
    "a0ab332faa3e3df478d19b12c8fbb0eb13d9bc34da17ed087075f043c27d7449df2677705fd488c742027adf2cd54456",
    "a9ce6aca5f045c171db279263e254db6b525fc7962bc70802bb47728dd95929a2ea6c4811576cda6b389a0f65645d884",
    "93a2738c9ed58a6dc739b9ac929de04b32c88bce530e96a71d1ec3240fac1706bd4fe42f96fa757ace31dc3a85d2f9ec",
    "824303958d5a1e4469b458ae80dd9dfdb0c4309a31b3c5a0c0c7e10a2d8b1bc383e755b4ad8ed34cf4168b990beea414",
    "af91480a34848aa7497a160f51ecef618f6de419e0849ea406f2af33345878028a8ad1fcdf3ca91746bb3e0c6eeb9032",
    "8500ee6ce140af115e6eab271f088dfb4f4b1061f8e8d8fa9eedd5cc3c6082b7442439b03ebbd54703c952bb89d8d22b",
    "b23ae5e7502c159a1d7413176ce81be0dd66119de140606d8fa79da06057d890bb1f185047877b52f556be3c49eaae4e",
    "819e7f278d13564190b92cced01fc06b3253f5b19b90dcb26e05754c0f341204009feadf9d584058c73bef78ec9fcfad",
    "ade084c8e9efd44ccbdd574cf4e7503eb38ac39faf4b0330ef7593539cdc51f5175cf36e877c1fcb3ee143474d50a5f8",
    "b6bc021d3c4589fa861fd59327b25bcb5228cd85ab044039df9c8211ef1b30be00ecdab36c201978b90ade9d4f6a5efc",
    "b481aa2e4bbe6c3eb887d7b87dce8de41b48c3b90225bc81f4c6f93136acbdbabe6020a58bdfb75c99aa1df784145750",
    "8846e2d3313fecddf4397d013a0d0d0c7c0ee009cbceb381f0afdebd92145c5164d9ff6a56202ec697e2085005ccae3e",
    "abff66bf993956e5f4813cd4a9ab1308a183cd2da96387854e1d548c9ef2a37547ab50323ec74f86fcf2eb422df3e5f7",
    "8b3b06326db28252676f1e58538e06ebd56aba17bb79c9653d0d3cf05c7e60b08b76d4c48f9b17d6de2e3cb13529a849",
    "8d4fa65964bdd6bd640bc5ac13b6b1487e85b4ecd41156ab9e47cf345b1892181d77dfa7f007648d5a0ce059b363cea7",
    "8403b69ffa1fc7a6aaed2829a701b9c71b4f9b933535f9fb0121b9d1157d280fd9267eeae694d04e960c787912a50a3d",
    "8eedf466009afb83c1c5e9989a154444b37058659b54904bb2f9658f69fee8ee4cd6c8474ce6a7981a06ee42240e542a",
    "8fd480d611bf417fa0f2a7c36b5cf6aec6c631c74849242121fe13957aa4c7a9476bb85b311b9edd053bdf6564a45d5b",
    "b68986c16c84b9aad19dff6ffbc2e505196c8f8a3cbb813567bcacd112318ac308396f504f6ade94073b55fad10c320f",
    "8c30552f0a723a71b8fe8096ff0fddeea2c5b83ace54d32903cf0b4bdd909eab86a2c23f64a7647cbd9c3d69d9268513",
    "afa36d43de55c30cecb7a24934c6d00bc0cb514b6976cb2dca0031bf191a1da316643887720b5c0ea671d9377826b000",
    "af96d8e9daa23d5f8c23d3cd5cc2b7a4fbd51c8825d57dafd8424493f7d30b2e21154f6794a520a57c183ef5f266b2a3",
    "993b146196cf8430032720620f5c3705a9ec71620457f2f5a25eaec3d03b8b1690817e8f6310e8c3cbb6d480accf27c2",
    "863a82644aacd6438506e1406dd23d1306038e7e56c8c7f8dcaf1ac6d5256c07fd0321e9e187a5d7ce8a34a0f8a3b970",
    "b2c2c6f1edb603f0401f71e5085a263a26d6856d95c9251ddd816cf7016378f6306441ef37831a82721c1f095d054cdc",
    "9097b32ee044e821ac202d441f8c3de308d4f3f3b98cb3714d8635df7a792e881dc5812744c5373e9abb53b2ee37aeec",
    "b9e8d018fb49a85ad05c405303fb0225269b70afa143465de8dd3d02126ed34deb9f0fbd189c72b53dbe85cdb0b6eb3a",
    "b58883092dbcd513acfa04a5a1622446df88ae08856ee2a6b4407a89298ca0efd111b05f02f287c49da9b4de639d4428",
    "b20c0310213844565a81a413e84cbe244a8557c34b06125b238fdcb8fb978a9716d8f06e7e68a7a0a4566f900dbac1b7",
    "801292b9e604c984943ed1cad8aa47344fe29e139363747409bdafd169f090a9936f31ab1fceae45a8f6921747fc9ed4"
    ];

    let degree = 32;
    let pp = PublicParameters::<Bls12_381>::setup_from_secret(
        degree - 1,
        Fr::from(8927347823478352432985u128),
    )
    .unwrap();

    assert_eq!(expected.len(), pp.commit_key.powers_of_g.len());
    assert_eq!(expected.len(), degree);

    for (got, expected) in pp.commit_key.powers_of_g.iter().zip(expected) {
        assert_eq!(expected, hex::encode(hash_interop::serialize_g1(got)))
    }
}
